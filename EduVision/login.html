<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | EduVision</title>
    <link rel="icon" href="assets/images/Eduvision.png">
    <link rel="stylesheet" href="style.css">
</head>

<body class="auth-body">

<div class="auth-wrapper fade">

    <!-- LEFT SIDE -->
    <div class="auth-left">
        <img src="assets/images/Eduvision.png" alt="EduVision">
        <h1>EduVision</h1>
        <p>User Login Portal</p>
    </div>

    <!-- RIGHT SIDE -->
    <div class="auth-right">

        <h2>User Login</h2>

        <!-- LOGIN FORM -->
        <form onsubmit="return handleLogin()">

            <input id="email" type="email" placeholder="Email Address">
            <input id="password" type="password" placeholder="Password">

            <label for="role" class="role-label">Choose a role</label>
            <select id="role" class="role-select">
                <option value="student" selected>Student</option>
                <option value="teacher">Teacher</option>
                <option value="admin">Admin</option>
            </select>

            <div class="forgot-password">
                <a href="#">Forgot Password?</a>
            </div>

            <button type="submit">Login</button>

            <p id="msg"></p>

        </form>

    </div>

</div>

<script>
function handleLogin() {
    const email = document.getElementById("email").value.trim();
    const password = document.getElementById("password").value.trim();
    const role = document.getElementById("role").value;
    const msg = document.getElementById("msg");

    msg.style.color = "red";
    msg.innerText = "";

    // Validation
    if (!email || !password) {
        msg.innerText = "All fields are required";
        return false;
    }

    const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
    if (!email.match(emailPattern)) {
        msg.innerText = "Enter a valid email address";
        return false;
    }

    if (password.length < 6) {
        msg.innerText = "Password must be at least 6 characters";
        return false;
    }

    msg.style.color = "#7CFC9A";
    msg.innerText = "Login successful! Redirecting...";

    // Role-based redirect
    setTimeout(() => {
        if (role === "student") {
            window.location.href = "student_dashboard.html";
        } else if (role === "teacher") {
            window.location.href = "teacher_dashboard.html";
        } else {
            window.location.href = "admin_dashboard.html";
        }
    }, 1200);

    return false;
}
</script>

</body>
</html>
