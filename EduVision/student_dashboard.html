<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>

    <link rel="icon" type="image/png" href="assets/images/Eduvision.png">

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Tailwind Config -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy1: "#021024",
                        navy2: "#052659",
                        blueMuted: "#5483B3",
                        blueSoft: "#7DA0CA",
                        blueIce: "#C1E8FF"
                    }
                }
            }
        };
    </script>

    <!-- Chatbot CSS -->
    <style>
        /* CHATBOT ICON */
#chatbotIcon {
    position: fixed;
    bottom: 25px;
    right: 25px;
    background: linear-gradient(135deg, #052659, #5483B3);
    color: #C1E8FF;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 26px;
    cursor: pointer;
    z-index: 9999;
    box-shadow: 0 8px 25px rgba(0,0,0,0.35);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#chatbotIcon:hover {
    transform: scale(1.08);
    box-shadow: 0 12px 30px rgba(0,0,0,0.5);
}

/* CHATBOT WINDOW */
#chatbotWindow {
    display: none;
    position: fixed;
    bottom: 100px;
    right: 25px;
    width: 360px;
    height: 540px;
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(12px);
    border-radius: 22px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.35);
    z-index: 9999;
    overflow: hidden;
    animation: chatFade 0.4s ease;
}

@keyframes chatFade {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}

/* HEADER */
#chatHeader {
    background: linear-gradient(135deg, #021024, #052659);
    color: #C1E8FF;
    padding: 14px 18px;
    font-weight: bold;
    font-size: 16px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* CHAT BODY */
#chatMessages {
    height: 240px;
    padding: 12px;
    overflow-y: auto;
    background: #287cf2;
    font-size: 14px;
}

/* MESSAGE BUBBLES */
#chatMessages p {
    margin-bottom: 10px;
    padding: 10px 14px;
    border-radius: 16px;
    max-width: 80%;
    line-height: 1.4;
}

#chatMessages p strong {
    display: none;
}

/* USER MESSAGE */
#chatMessages p:has(strong:contains("You")) {
    background: #5483B3;
    color: white;
    margin-left: auto;
    border-bottom-right-radius: 4px;
}

/* BOT MESSAGE */
#chatMessages p:has(strong:contains("Bot")) {
    background: #E3F2FF;
    color: #052659;
    border-bottom-left-radius: 4px;
}

/* QUICK QUESTIONS */
#questionButtons {
    padding: 10px 12px;
    background: white;
}

.question-btn {
    width: 100%;
    padding: 9px;
    margin-bottom: 6px;
    border-radius: 10px;
    background: linear-gradient(135deg, #7DA0CA, #5483B3);
    color: white;
    border: none;
    cursor: pointer;
    font-size: 13px;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.question-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
}

/* INPUT AREA */
.chat-input-container {
    display: flex;
    gap: 8px;
    padding: 10px;
    border-top: 1px solid #ddd;
    background: white;
}

#chatInput {
    flex: 1;
    padding: 9px 12px;
    border-radius: 20px;
    border: 1px solid #052659;
    font-size: 14px;
    outline: none;
}

#chatInput:focus {
    border-color: #052659;
}

.chat-input-container button {
    padding: 8px 14px;
    background: linear-gradient(135deg, #052659, #5483B3);
    color: rgb(26, 5, 133);
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 13px;
}
.chat-input-container button:hover {
    background: linear-gradient(135deg, #021024, #7DA0CA);}
    </style>
</head>

<body class="bg-gradient-to-b from-navy1 via-navy2 to-blueMuted min-h-screen text-blueIce flex">

    <!-- SIDEBAR -->
    <aside class="w-64 bg-white/10 backdrop-blur-lg border-r border-white/20 p-8 space-y-8 shadow-xl fade">
        <h2 class="text-3xl font-bold tracking-wide text-blueIce">EduVision</h2>

        <nav class="space-y-5 text-blueSoft">
            <button onclick="loadPage('dashboard')" class="block hover:text-blueIce transition">Dashboard</button>
            <button onclick="loadPage('profile')" class="block hover:text-blueIce transition">Profile</button>
            <button onclick="loadPage('attendance')" class="block hover:text-blueIce transition">Attendance</button>
            <button onclick="loadPage('assignments')" class="block hover:text-blueIce transition">Assignments</button>
            <button class="block text-red-400 hover:text-red-300 pt-5 transition">Logout</button>
        </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 p-12 space-y-10 fade">

        <div class="bg-white/10 border border-white/20 rounded-3xl backdrop-blur-md shadow-xl p-10 flex justify-between items-center">
            <div>
                <h1 class="text-4xl font-bold">Hi, Tushti ðŸ‘‹</h1>
                <p class="text-blueSoft text-lg mt-2">Ready to start your day?</p>
            </div>

            <img src="assets/images/girl.jpeg" class="w-48 drop-shadow-xl hover:scale-105 transition">
        </div>

        <div class="grid grid-cols-3 gap-8 fade">
            <div class="bg-white/10 p-6 rounded-2xl border border-white/20 shadow">Attendance<br><b>82%</b></div>
            <div class="bg-white/10 p-6 rounded-2xl border border-white/20 shadow">Assignments<br><b>77%</b></div>
            <div class="bg-white/10 p-6 rounded-2xl border border-white/20 shadow">Messages<br><b>12</b></div>
        </div>

        <div id="dynamicContent"
            class="bg-white/10 border border-white/20 rounded-3xl backdrop-blur-md shadow-xl p-10 fade">
            <h2 class="text-3xl font-bold mb-4">Dashboard</h2>
            <p class="text-blueSoft text-lg">Your daily overview will appear here.</p>
        </div>

    </main>

    <!-- CHATBOT -->
<div id="chatbotIcon" onclick="toggleChat()">ðŸ¤–</div>

    <div id="chatbotWindow">
        <div id="chatHeader">
            FAQ Chatbot
            <span class="closeBtn" onclick="toggleChat()">âœ–</span>
        </div>

        <div id="chatMessages">
            <p><strong>Bot:</strong> Ask me anything about your dashboard.</p>
        </div>

        <div id="questionButtons">
            <button class="question-btn" onclick="sendPredefinedMessage('attendance')">Attendance</button>
            <button class="question-btn" onclick="sendPredefinedMessage('assignments')">Assignments</button>
            <button class="question-btn" onclick="sendPredefinedMessage('teachers')">Contact Teachers</button>
        </div>

        <div class="chat-input-container">
            <input id="chatInput" placeholder="Type here..." onkeypress="handleKeyPress(event)">
            <button onclick="sendUserMessage()">Send</button>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        function toggleChat() {
            const chat = document.getElementById("chatbotWindow");
            chat.style.display = chat.style.display === "block" ? "none" : "block";
        }

        function handleKeyPress(e) {
            if (e.key === "Enter") sendUserMessage();
        }

        function sendUserMessage() {
            const input = document.getElementById("chatInput");
            const msg = input.value.trim();
            if (!msg) return;
            addMessage("You", msg);
            botReply(msg);
            input.value = "";
        }

        function sendPredefinedMessage(msg) {
            addMessage("You", msg);
            botReply(msg);
        }

        function addMessage(sender, text) {
            const chat = document.getElementById("chatMessages");
            chat.innerHTML += `<p><strong>${sender}:</strong> ${text}</p>`;
            chat.scrollTop = chat.scrollHeight;
        }

        function botReply(message) {
            let reply = "Check the relevant section from the sidebar.";
            if (message.includes("attendance")) reply = "Attendance is in Attendance tab.";
            if (message.includes("assignments")) reply = "Assignments tab shows all tasks.";
            if (message.includes("teacher")) reply = "Use Chat to contact teachers.";
            setTimeout(() => addMessage("Bot", reply), 500);
        }

        function loadPage(page) {
            document.getElementById("dynamicContent").innerHTML =
                `<h2 class="text-3xl font-bold mb-4">${page}</h2>`;
        }
    </script>

</body>
</html>
